<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
    <div th:fragment="employeeForm">
        <form th:action="@{/employees}" method="post"
            th:object="${employeeRequestDTO}"
            hx-post="/employees/create" hx-target="#employee-list-container"
            hx-swap="outerHTML"
            hx-on::after-request="if(event.detail.successful) { document.getElementById('employee-form-modal').remove(); alert('Employee added successfully!'); } else { alert('Error adding employee.'); }">

            <div class="mb-4">
                <label for="firstName"
                    class="block text-gray-700 text-sm font-bold mb-2">First
                    Name</label>
                <input type="text" id="firstName" name="firstName"
                    th:field="*{firstName}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required>
                <p th:if="${#fields.hasErrors('firstName')}"
                    th:errors="*{firstName}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="lastName"
                    class="block text-gray-700 text-sm font-bold mb-2">Last
                    Name</label>
                <input type="text" id="lastName" name="lastName"
                    th:field="*{lastName}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required>
                <p th:if="${#fields.hasErrors('lastName')}"
                    th:errors="*{lastName}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="email"
                    class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                <input type="email" id="email" name="email" th:field="*{email}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required>
                <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="phoneNumber"
                    class="block text-gray-700 text-sm font-bold mb-2">Phone
                    Number</label>
                <input type="text" id="phoneNumber" name="phoneNumber"
                    th:field="*{phoneNumber}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required>
                <p th:if="${#fields.hasErrors('phoneNumber')}"
                    th:errors="*{phoneNumber}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="designation"
                    class="block text-gray-700 text-sm font-bold mb-2">Designation</label>
                <input type="text" id="designation" name="designation"
                    th:field="*{designation}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required>
                <p th:if="${#fields.hasErrors('designation')}"
                    th:errors="*{designation}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="department"
                    class="block text-gray-700 text-sm font-bold mb-2">Department</label>
                <input type="text" id="department" name="department"
                    th:field="*{department}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required>
                <p th:if="${#fields.hasErrors('department')}"
                    th:errors="*{department}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="hireDate"
                    class="block text-gray-700 text-sm font-bold mb-2">Hire
                    Date</label>
                <input type="date" id="hireDate" name="hireDate"
                    th:field="*{hireDate}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required>
                <p th:if="${#fields.hasErrors('hireDate')}"
                    th:errors="*{hireDate}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-6">
                <label for="dateOfBirth"
                    class="block text-gray-700 text-sm font-bold mb-2">Date of
                    Birth</label>
                <input type="date" id="dateOfBirth" name="dateOfBirth"
                    th:field="*{dateOfBirth}"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
                    required>
                <p th:if="${#fields.hasErrors('dateOfBirth')}"
                    th:errors="*{dateOfBirth}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="flex items-center justify-between">
                <button type="submit"
                    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                    Add Employee
                </button>
                <button type="button"
                    class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                    hx-on:click="this.closest('#employee-form-modal').remove()">
                    Cancel
                </button>
            </div>
        </form>
    </div>
</html>